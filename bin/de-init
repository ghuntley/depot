#!/usr/bin/env bash
# Copyright (c) 2020 Geoffrey Huntley <ghuntley@ghuntley.com>. All rights reserved.
# SPDX-License-Identifier: Proprietary

set -Eeuo pipefail

# 0. Configure git
echo "[dev-env] Configuring git"
git config color.ui true
git config merge.conflictstyle "diff3"
git config pull.rebase true
git config rebase.autosquash true
git config rebase.autostash true

# 1. Install git-hooks
bash "$REPO_ROOT/bin/de-install-git-hooks"

# 2. Bootstrap third_party git submodules
echo "[dev-env] Synchronizing git submodules"
git submodule sync
git submodule update

# n. Notify
echo "[dev-env] Done"
echo